(window.webpackJsonp=window.webpackJsonp||[]).push([[193],{506:function(t,s,a){"use strict";a.r(s);var r=a(18),e=Object(r.a)({},(function(){var t=this,s=t._self._c;return s("ContentSlotsDistributor",{attrs:{"slot-key":t.$parent.slotKey}},[s("h1",{attrs:{id:"vue-3-项目部署"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#vue-3-项目部署"}},[t._v("#")]),t._v(" Vue 3 项目部署")]),t._v(" "),s("p",[t._v("Vue 3 推荐使用 Vite 作为构建工具，支持更快的开发和构建体验。这里对照 Vue2，介绍 Vue3 的部署流程。")]),t._v(" "),s("h2",{attrs:{id:"_1-构建配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-构建配置"}},[t._v("#")]),t._v(" 1. 构建配置")]),t._v(" "),s("h3",{attrs:{id:"_1-1-vite-配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-1-vite-配置"}},[t._v("#")]),t._v(" 1.1 Vite 配置")]),t._v(" "),s("div",{staticClass:"language-js extra-class"},[s("pre",{pre:!0,attrs:{class:"language-js"}},[s("code",[s("span",{pre:!0,attrs:{class:"token comment"}},[t._v("// vite.config.js")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v(" defineConfig "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'vite'")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("import")]),t._v(" vue "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("from")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'@vitejs/plugin-vue'")]),t._v("\n\n"),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("export")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token keyword"}},[t._v("default")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("defineConfig")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("plugins")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("[")]),s("span",{pre:!0,attrs:{class:"token function"}},[t._v("vue")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("(")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("]")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("base")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'/'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("build")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("outDir")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'dist'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("assetsDir")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v("'static'")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token literal-property property"}},[t._v("sourcemap")]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token boolean"}},[t._v("false")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(")")]),t._v("\n")])])]),s("h3",{attrs:{id:"_1-2-环境变量"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_1-2-环境变量"}},[t._v("#")]),t._v(" 1.2 环境变量")]),t._v(" "),s("div",{staticClass:"language-env extra-class"},[s("pre",{pre:!0,attrs:{class:"language-text"}},[s("code",[t._v("# .env.production\nVITE_API_BASE_URL=/api\n")])])]),s("h2",{attrs:{id:"_2-部署流程"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-部署流程"}},[t._v("#")]),t._v(" 2. 部署流程")]),t._v(" "),s("h3",{attrs:{id:"_2-1-构建命令"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-1-构建命令"}},[t._v("#")]),t._v(" 2.1 构建命令")]),t._v(" "),s("div",{staticClass:"language-json extra-class"},[s("pre",{pre:!0,attrs:{class:"language-json"}},[s("code",[s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"scripts"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("{")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"dev"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vite"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"build"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vite build"')]),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v(",")]),t._v("\n    "),s("span",{pre:!0,attrs:{class:"token property"}},[t._v('"preview"')]),s("span",{pre:!0,attrs:{class:"token operator"}},[t._v(":")]),t._v(" "),s("span",{pre:!0,attrs:{class:"token string"}},[t._v('"vite preview"')]),t._v("\n  "),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n"),s("span",{pre:!0,attrs:{class:"token punctuation"}},[t._v("}")]),t._v("\n")])])]),s("h3",{attrs:{id:"_2-2-nginx-配置"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-2-nginx-配置"}},[t._v("#")]),t._v(" 2.2 Nginx 配置")]),t._v(" "),s("p",[t._v("（同 Vue2，注意静态资源路径）")]),t._v(" "),s("h3",{attrs:{id:"_2-3-ci-cd"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_2-3-ci-cd"}},[t._v("#")]),t._v(" 2.3 CI/CD")]),t._v(" "),s("ul",[s("li",[t._v("推荐使用 GitHub Actions、GitLab CI、Jenkins 等自动化部署")])]),t._v(" "),s("h2",{attrs:{id:"_3-监控与日志"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_3-监控与日志"}},[t._v("#")]),t._v(" 3. 监控与日志")]),t._v(" "),s("ul",[s("li",[t._v("推荐 Sentry、阿里云前端监控等")])]),t._v(" "),s("h2",{attrs:{id:"_4-回滚策略"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_4-回滚策略"}},[t._v("#")]),t._v(" 4. 回滚策略")]),t._v(" "),s("ul",[s("li",[t._v("版本管理、静态资源备份")])]),t._v(" "),s("h2",{attrs:{id:"_5-相关资源"}},[s("a",{staticClass:"header-anchor",attrs:{href:"#_5-相关资源"}},[t._v("#")]),t._v(" 5. 相关资源")]),t._v(" "),s("ul",[s("li",[s("a",{attrs:{href:"https://cn.vitejs.dev/",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vite 官方文档"),s("OutboundLink")],1)]),t._v(" "),s("li",[s("a",{attrs:{href:"https://cn.vuejs.org/guide/best-practices/production-deployment.html",target:"_blank",rel:"noopener noreferrer"}},[t._v("Vue3 部署指南"),s("OutboundLink")],1)])])])}),[],!1,null,null,null);s.default=e.exports}}]);